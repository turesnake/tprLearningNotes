# ================================================================ #
#                          Blender 使用技巧
# ================================================================ #



# ===================================== #
#        使用 maya 风格的 操作
# ------------------------------------- #

Editor - Preferences - Keymap
中部最上面有个选框, 默认是 "Blender", 下拉改成 "Industry Compatible"




# ----------------------------------------------#
#              渲染设置
# ----------------------------------------------#
开启 blender 项目后，务必在：
Scene:
Color Management:
View Transform
	设置它为 Standard
	默认值为 Flimic
----
若不修改此项，最终颜色会始终不准


# ----------------------------------------------#
#         如何显示 模型 顶点数/面数
	主画布 右上方，双圆菜单 Viewport Overlays
	勾选 Statistics 选项
	然后就能显示 模型基础信息 



# ++++++++++++++++++++++++++++++++++++++++++++++#
#            确保所有 面 法线正确
# ++++++++++++++++++++++++++++++++++++++++++++++#
- edit mode
- 按a，全选所有面
- Mesh - Normals - Recalculate Outside
	此时会修正所有面的 法线


# -------------------------- #
#  观察 mesh 面的法线朝向
画布右上角 viewport overlays - face orientation 勾选;
蓝色为正面, 红色为反面


# -------------------------- #
#  翻转 面的 法线朝向
editor mode: 选择目标面
mesh - normal - flip
实现翻转





# ++++++++++++++++++++++++++++++++++++++++++++++#
#             如何为单独的面上色
# ++++++++++++++++++++++++++++++++++++++++++++++#
-- 在 edit mode
-- 选中单独的面
-- 新建一个 material，
-- 点击 material 面板上的 Assign 按钮
	将材质赋予 目标面


# ----------------------------------------------#
#        如何制作类似 塞尔达 的卡通渲染风
# ----------------------------------------------#
-- 选用 Emission 自发光节点
	此时为面设置的颜色，就是最终呈现色
-- 通过:
	Diffuse BSDF,
	Shader to RGBA,
	ColorRamp,
	Emission,
	Material Output,
	这套流程，可以制作，具备多层明暗变化
	且可自定义不同阶层颜色的 
	卡通渲染风格


# ----------------------------------------------#
#        如何渲染 pxel 图形
# ----------------------------------------------#
-- Render.Film.Fliter Size = 0.01 px
	将此值降为最小，从而实现 色块边缘彻底 像素化
	---
	记得勾选 Transparent:
	可以不渲染背景，适合出 角色渲染图

-- Output.Dimensions
	将 xy 值改为 64*64 这种小尺寸
	剩余选项也都可以设置，且很简单
	
-- Output.Output
	选择输出path，
	记得勾选 Overwrite, file Extensions
	将 Compression 设置为 0 （不启用图像压缩）

-- 选择顶部窗口的 Render - Render Animation
	或者 ctrl F12
	来实现实际渲染工作 



# ----------------------------------------------#
#              动画制作 - 最简方法
# ----------------------------------------------#
--1-- 选择要做动画的 obj
--2-- 在 timeline 上选择目标帧
--3-- 调整目标obj 的参数（position，location等）
--4-- “插入关键帧”
	快捷键 "I", 再选择对应的选项
	比如，Rotation
	-------
	一个关键帧 制作完毕
	-------
	然后可以去制作下一个关键帧


========
编辑动画帧曲线：
-- 按 a，全选 关键帧
-- 按 t，弹出面板，可以设置 过度曲线类型

======== 从数据上，手动设置关键帧 ======
鼠标移到某个数据上，按 i，设置关键帧


# ----------------------------------------------#
#      如何在单个文件内，制作多个 动画动作
# ----------------------------------------------#

-- 打开 Dope sheet 面板
-- 选择它的 子面板：Action Editor
	在其中，可以看见当前动作名，修改之，
	再点选右侧的 盾牌按钮（F按钮）
	用来保存这个动作
-- 然后正式制作这个动作


== 如何删除一个动作
-- 打开 Outliner 面板
	它会展示当前 .blender 文件的构成
	在里面，你可以删除 某个 动作



# ----------------------------------------------#
#        简易 烘焙 法线贴图
# ----------------------------------------------#

# ----------------------------------------------#
#          pose 模式 姿势全面恢复
# ----------------------------------------------#
进入 pose 模式, 对骨骼做任意 位移 旋转.
想要恢复时:
-- 按 a 键 全选所有 bone
-- 按 alt+R, 复位旋转, 
	  alt+G  复位位移 
	  alt+S  复位缩放


# ----------------------------------------------#
#      如何显示一个面的 法线坐标系
进入 Editor Mode, 选择一个面, 
画布顶部的 transformation orientation 里选择 normal 法线;




# ============================================== #
#            游标 - Cursor
# ----------------------------------------------#
一个红白虚线构成的小圆环点; 新建物体以它为初始pos;


#  让 cursor 还原为初始值:
object mode: 空白右键 - snap - cursor to world origin



#  让 cursor 吸附到 一个物体的原点上去:
选择物体, 右键 - snap - cursor to selected


#  让 cursor 吸附到 一个编辑的 点 上去:
editor mode 中, 选择某个 点, 右键 - snap vertexis -  cursor to selected
(可同时选中多个点, 此时会取这些点的中点)








# ============================================== #
#           物体的 原点 - Origins
# ---------------------------------------------- #
# 如何移动原点 而不是物体
画布右上角 - Options 选择 origins
然后去移动, 会发现物体不动, 原点动

# ------------------------------------ #
#       将原点 恢复到几何中心:
进入Object Mode, 选中物体, 右键, set origin:
-- geometry to origin:
	原点不动, 物体动, 让原点位于物体中心处

-- origin to geometry:
	原点动, 物体不动, 让原点位于物体中心处

-- origin to 3D cursor:
	物体不动, 原点对齐(运动)到 cursor 上去 

-- origin to center of mass(surface):
	物体不动, 原点运动到 物体的 质量中心

-- origin to center of mass(volume):
	物体不动, 原点运动到 物体的 质量中心




# ============================================== #
#        变换轴心点 - transform pivot point
# ---------------------------------------------- #
画图中央上方, 一个小按钮;  默认选择: Median Point: -- 质心点 

当同时选择多个物体后, 这个设置会影响 transform 变换的效果;


# Bounding Box Center: -- 边界框中心
所有物体都有一个 边界框, 
此时会以 所有被选物体的边界框 的中心 为变换原点;


# 3D Cursor: -- 3D 游标
以 cursor 为变换原点;


# Individual Origins: -- 各自的原点
当选择多个物体后, 做transform变换时, 每个物体绕着自己的原点进行


# Median Point: -- 质心点
以所有被选物体的共同 质心点 为变换原点


# Active Element: -- 活动元素
以最后一个被改动的对象(物体/点线面)的原点 为 变换原点



# ============================================== #
#          吸附功能
# ----------------------------------------------#
https://www.bilibili.com/video/BV1zh411Y7LX?spm_id_from=333.788.videopod.episodes&vd_source=df0fa6bb68b75a198c4c3f59ce640962&p=4

画布中央上方 磁铁工具

# -- ctrl 键切换:
先拖动物体开始移动, 然后按下 ctrl 键,此时会切换 吸附功能的开启关闭;
(比较适合 默认关闭吸附, 然后拖动途中去开启去吸附)


# -- 吸附设置 snap base:
拖动的 do物体, 主动去吸附的
可设置为:
	Closest: 最近的点
	Center: 中点, 其实是上面的 变换轴心点 设置的那个点;
	Median:	质心;
	Active:


# -- 吸附设置 snap target:
被吸附的 be物体,
可设置为:
	Increment:		增量, 让物体按照世界网格 一格一格去移动, 但还保留物体原来相对网格的偏移offset;
					启用后下方多一个 absolute increment snap 的选项, 若选上, 物体原有offset 会清零
					感觉就变成了普通的 grid 对齐;
	Grid:			吸附到网格
	Vertex:			吸附到物体上的某个顶点
	Edge:			吸附到物体上的某个边
	Face:			吸附到物体上的某个面
	Volume:
	Edge Center:	边中点, 让 do边的中点 吸附到 be边的中点
	Edge Perpendicular: 垂直交线:


# 例子 -1-: 将 do物体的质心 吸附到 be物体的某个顶点上:
snap base 设为 Median,
snap target 设为 Vertex,
然后拖动 do物体, 让鼠标点去靠近 be物体的某个顶点, 就会自动吸附了



# -- 选项: Backface Culling (背面剔除):
	如果不想吸附到 be物体 背面元素上去, 简易勾选

# -- 选项: Align Rotation To Target (旋转对齐目标)
	可以让 do 的 rotation 也对齐到 be目标上去,
	默认不勾选, 此时 do 的 rotation 不变, 只修改 do pos;


# -- Affect: ( 移动 / 旋转 / 缩放 )
可以多选 吸附对齐的选项
这里开启的 旋转/缩放 和我们直观理解的不一样, 其实是:
	假设开启了 缩放, 然后拖动鼠标来缩放, 当鼠标经过吸附点时, 鼠标控制点会吸附到吸附点上去;


# ============================================== #
#               衰减编辑
# ----------------------------------------------#
https://www.bilibili.com/video/BV1zh411Y7LX?spm_id_from=333.788.videopod.episodes&vd_source=df0fa6bb68b75a198c4c3f59ce640962&p=4
17:57 处:

画布中央上方, 吸附工具右侧的按钮, 一个圆环内有个白点;
开启后, 当移动一个物体时, 可以带动附近的物体一起移动, 类似拖动 zb 中的一个区域的点的效果;

# 这玩意很适合建造地形;






# ----------------------------------------------#
#          如何在曲面上 种树
# ----------------------------------------------#

# -1- 设置树的 原点为 树根 root:
画布右上角 - Options 选择 origins, 
然后借助吸附工具, 让 树物体 原点(origin) 移动到树根附近

# -2- 设置吸附:
snap base 选 median,
snap target 选 face

然后拖动 do树, 移动到曲面上, 会发现树自动沿着曲面运动;









# ----------------------------------------------#
#           
# ----------------------------------------------#




