# =========================================================//
#                          Lua Base
# =========================================================//


# ==================================================== #
#                      安装   [ mac ]
# ---------------------------------------------------- #

#======== 方法一，homebrew ======
    brew install lua

#======== 方法二，本地编译 [- 推荐 -] ======

# ==1== 下载 ==

    下载 Lua 5.3 安装包 from：
    https://www.lua.org/

# ==2==  编译 ==

    在 安装包更目录，执行： make
    -- 此时会跳出 一组平台名 列表。
    -- 比如在 mac 上，执行： make macosx

=   编译完成后，会在 /src/目录下，创建三个 新文件：
    -- lua  :  解释器
    -- luac :  编译器
    -- liblua.a : 库文件

=   为了检测 lua 是否 build 正确，执行： make test
    这将运行 解释器，并打印版本号


# ==3== 安装 ==

=   如果想要 安装到 操作系统默认路径
    执行 make install 
    -- 默认安装路径 定义在 makefile 文件中


=   如果想要安装到 当前目录（lua源代码root目录，.../lua-5.3.5/ ）
    [推荐]
    执行：make local
    会在 .../lua-5.3.5/ 目录下 新建一个目录 install/
    然后将 lua 安装进这个 install/ 目录中，结构如下：
=    bin:
        lua luac
=    include: （ include 下的一个 子目录 include ）
        lua.h luaconf.h lualib.h lauxlib.h lua.hpp
=    lib:
        liblua.a
=    man/man1:
        lua.1 luac.1

=  bin/, man/ 目录下的文件用于 运行 lua程序
=  include/, lib/ 目录下的文件用于 将 lua 嵌入到 C/C++ 程序中



# ==================================================== #
#                 运行 lua 小程序 
# ---------------------------------------------------- #

#--  制作一个 名为 xxx.lua 的文件。
#--  在头部写入：
    #!/usr/local/bin/lua
     从而设置 此脚本的 执行程序
     （就像 shell 一样）
    
#--  在文件所在目录中执行：
    chmod  u+x  xxx.lua
     
#--  执行：
    ./xxx.lua


# ==================================================== #
#                    语法
# ---------------------------------------------------- #

# ======  注释  ======
#     -- xxxx
      单行注释

#     --[[  xxxx
#           xxxx
#     --]]  
      多行注释


# ======  标示符／变量名  ======
  不要使用 下划线+大字母 的名字,比如:
    _VERSION 
  这是 lua 保留字 的用法。

# ======  关键词  ======
    and
    break
    do
    else
    elseif
    end
    for
    function -- 由 C／Lua 编写的函数 
    if
    in
    local
    nil  -- 表示一个 空变量／无效值
    not
    or
    repeat
    return
    then
    true   -- type: boolean 0 也表示 true
    false  -- type: boolean
    until
    while

# ======  全局变量  ======

#--    新建的变量，默认为 全局变量
#--    一个 未初始化的 全局变量，值为 nil
#--    若想删除一个 全局变量，只需将其赋值为 nil
        这个变量 就好像从没被使用过一样
        当且仅当一个变量不等于 nil 时，这个变量 即被看做存在


# ======  数据类型  ======
#    一共 8 种：

    nil      -- 只有值 nil 属于该类
                表示一个无效值（在条件表达式中相当于false）

    boolean  -- 包含两个值：false和true

    number   -- integer -- int64
                float   -- 双精度浮点数(类比 double )

    string   -- 字符串由一对双引号或单引号来表示

    function -- 由 C 或 Lua 编写的函数

    userdata -- 表示任意存储在变量中的C数据结构

    thread   -- 表示执行的独立线路，用于执行协同程序

    table    -- "关联数组"/associative arrays
                数组的索引可以是 数字 或者是 字符串
                table 的创建是通过 "构造表达式" 来完成，
                最简单构造表达式是 {}，用来创建一个空表

#    print( type( "koko" ) )
#    --> string
    通过 type() 函数 来测试 值的类型


#----------------------------------------------#
#         长字符串 [[ koko ]]
#----------------------------------------------#

longstr = [[
a
bb
"koko"
ccc
]]

print(longstr)

#   通过 [[ ... ]] 来实现一个跨越多行的 长字符串
#   优点：
#   -1- 内部的所有符号可以原样打印，比如 " 这种，不会自动转意
#   [[后面如果紧跟着一个 '\n' 符，这个 换行符将被忽略。

#   是记载字符串的 理想方式。

#------
#   如果在这个字符串内部也有 [ ] 怎么办？

longstr = [===[
a
b
[c]
d
e
]===]

#   首位界符中的等号数量一定要相符。
#   并且避免在 字符串中 再出现 相同的 符号


#----------------------------------------------#
#            and / or / not
#----------------------------------------------#

#  and: 
    若第一操作数 是 false/nil, 返回第一操作数。否则反而第二个

nil   and 13 --> nil
false and 13 --> false
7     and 13 --> 7

#  or:
    若第一操作数 不是 false/nil, 返回第一操作数。否则反而第二个

nil   or 13 --> 13
false or 13 --> 13
7     or 13 --> 7
0     or 13 --> 0

#--- and 优先级高于 or ---

#  and 确实符合 常规语言中的 && 运算
#  or  确实符合 常规语言中的 || 运算
#  所以，至少在 if 语句中，是可以放心使用 and,or 运算符的


#----------------------------------------------#
#     func{table_a} = func( {table_a} )
#     func{a,b,c} = func( {a,b,c} )
#----------------------------------------------#
#   当参数为一个 表，表构造器时，可以省略 函数调用的 小括号












